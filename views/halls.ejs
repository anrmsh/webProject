<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Банкетные залы</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/halls.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <a href="/" class="logo">BanquetBook<span>.</span></a>

       <nav class="navbar">
        <a href="/index">Главная</a>
      </nav> 
      <div class="icons">
        <a href="/favorites" class="fas fa-heart" title="Избранное"></a>
        <a href="/cart" class="fas fa-shopping-cart" title="Брони"></a>
        <% if (user) { %>
        <a href="/profile" class="fas fa-user" title="Профиль"></a>
        <a href="/logout" title="Выйти"
          ><i class="fa-solid fa-right-from-bracket"></i
        ></a>
        <% } else { %>
        <a href="/login" class="fas fa-user" title="Войти"></a>
        <% } %>
      </div>
    </header>

    <main>
      <section class="filters">
        <input type="text" id="search" placeholder="Поиск по названию..." />

        <div class="capacity-filter">
          <label>Вместимость:</label>
          <input type="number" id="capacityMin" placeholder="От" />
          <input type="number" id="capacityMax" placeholder="До" />
        </div>

        <div class="price-filter">
          <label>Цена:</label>
          <input type="number" id="priceMin" placeholder="От" />
          <input type="number" id="priceMax" placeholder="До" />
        </div>

        <div class="sort">
          <label>Сортировка:</label>
          <select id="sort">
            <option value="">Без сортировки</option>
            <option value="price_asc">Цена ↑</option>
            <option value="price_desc">Цена ↓</option>
            <option value="rating_asc">Рейтинг ↑</option>
            <option value="rating_desc">Рейтинг ↓</option>
          </select>
        </div>

        <div class="date-filter">
          <label>Дата:</label>
          <input type="date" id="date" />
          <button id="checkDate"><span>Проверить доступность</span></button>
        </div>
      </section>

      <section class="hall-list">
        <div id="hallContainer" class="hall-grid">
          <% halls.forEach(hall => { %>
          <div
            class="hall-card"
            data-name="<%= hall.hall_name.toLowerCase() %>"
            data-capacity="<%= hall.capacity %>"
            data-price="<%= hall.price %>"
            data-rating="<%= hall.rating %>"
          >
            <div class="hall-image">
              <img src="<%= hall.image_path %>" alt="<%= hall.hall_name %>" />
              <a href="/halls/<%= hall.hall_id %>" class="cart-btn"
                >Подробнее</a
              >
            </div>
            <div class="hall-info">
              <h3><%= hall.hall_name %></h3>
              <p><strong>Цена:  </strong> <%= hall.price %> BYN</p>
              <p><strong>Вместимость:  </strong> <%= hall.capacity %> гостей</p>
              <p><strong>Рейтинг:  </strong>  <%= hall.rating || 'Нет' %> ⭐</p>
            </div>
          </div>
          <% }) %>
        </div>
      </section>
    </main>
    <script src="/script/hallsScript.js"></script>
  </body>
</html>
